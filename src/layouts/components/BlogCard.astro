---
import config from "@/config/config.json";
import dateFormat from "@/lib/utils/dateFormat";
import { humanize } from "@/lib/utils/textConverter";
import { FaRegUserCircle } from "react-icons/fa";
import ImageMod from "./ImageMod.astro";

const {
  blog_folder,
}: { blog_folder: string } = config.settings;
const { data } = Astro.props;
const { title, image, date, author } = data.data;
---

<a
    href={`/${blog_folder}/${data.slug}`}
  >
  <div class="bg-body dark:bg-darkmode-body" id="blog-card">
    {
      image && (
          <ImageMod
            class="mb-6 object-cover rounded"
            src={image}
            alt={title}
            width={460}
            height={230}
            format="webp"
            style="aspect-ratio: 16/7"
          />
      )
    }
    <h4 class="mb-3" style="width: 460px">
      <a href={`/${blog_folder}/${data.slug}`}>
        {title}
      </a>
    </h4>
    <ul class="mb-4">
      <li class="mr-4 inline-block">
          <FaRegUserCircle className={"mr-2 -mt-1 inline-block"} />
          {humanize(author)}
      </li>
      {date && <li class="inline-block">{dateFormat(date)}</li>}
    </ul>
  </div>
</a>
<center>
  <hr class="mt-5 mb-10" id="blog-card-hr">
</center>